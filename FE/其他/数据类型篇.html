<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript数据类型 | 前端私塾</title>
    <meta name="description" content="郭磊的前端博客 (arley’s blog)">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.f481fb03.css" as="style"><link rel="preload" href="/assets/js/app.0e87d91a.js" as="script"><link rel="preload" href="/assets/js/3.a665c686.js" as="script"><link rel="preload" href="/assets/js/1.3b6e2c97.js" as="script"><link rel="preload" href="/assets/js/12.a415a1a4.js" as="script"><link rel="prefetch" href="/assets/js/10.2dcdff02.js"><link rel="prefetch" href="/assets/js/11.92fcf94b.js"><link rel="prefetch" href="/assets/js/13.2f5fd863.js"><link rel="prefetch" href="/assets/js/14.bae1f167.js"><link rel="prefetch" href="/assets/js/15.a1d08d97.js"><link rel="prefetch" href="/assets/js/16.af567c47.js"><link rel="prefetch" href="/assets/js/17.9530b9fb.js"><link rel="prefetch" href="/assets/js/18.e3a7ad09.js"><link rel="prefetch" href="/assets/js/19.ee0349b4.js"><link rel="prefetch" href="/assets/js/20.661c9203.js"><link rel="prefetch" href="/assets/js/21.c26f0850.js"><link rel="prefetch" href="/assets/js/22.18dc22c0.js"><link rel="prefetch" href="/assets/js/23.25fa3d5b.js"><link rel="prefetch" href="/assets/js/24.c6efb91b.js"><link rel="prefetch" href="/assets/js/25.72cb1f2d.js"><link rel="prefetch" href="/assets/js/26.9fdddcbc.js"><link rel="prefetch" href="/assets/js/27.e79bdb17.js"><link rel="prefetch" href="/assets/js/28.2b620d92.js"><link rel="prefetch" href="/assets/js/29.da958f12.js"><link rel="prefetch" href="/assets/js/30.8a0dddf3.js"><link rel="prefetch" href="/assets/js/4.25bd33a9.js"><link rel="prefetch" href="/assets/js/5.3a065fc0.js"><link rel="prefetch" href="/assets/js/6.c55fe174.js"><link rel="prefetch" href="/assets/js/7.412c911c.js"><link rel="prefetch" href="/assets/js/8.b661454c.js"><link rel="prefetch" href="/assets/js/9.d2436305.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f481fb03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container" data-v-4698c43e><div data-v-4698c43e><div id="loader-wrapper" class="loading-wrapper" data-v-4b73742e data-v-4698c43e data-v-4698c43e><div class="loader-main" data-v-4b73742e><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div><div data-v-4b73742e></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-6cbeab0a data-v-4698c43e data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>前端私塾</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>私塾学者</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-4698c43e><header class="navbar" data-v-4698c43e><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端私塾</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/前端一万五/" class="nav-link"><i class="iconfont undefined"></i>
  前端一万五
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/加入前端/" class="nav-link"><i class="iconfont undefined"></i>
  加入前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/短篇博文/" class="nav-link"><i class="iconfont undefined"></i>
  短篇博文
</a></li><li class="dropdown-item"><!----> <a href="/categories/娱乐项目/" class="nav-link"><i class="iconfont undefined"></i>
  娱乐项目
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://github.com/arleyGuoLei" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://juejin.im/user/5ba9b5385188255c8e72807c" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-menu"></i>
      推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://ustbhuangyi.github.io/vue-analysis/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Vue.js 技术揭秘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/book/5bdc715fe51d454e755f75ef?referrer=5ba9b5385188255c8e72807c" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/qdlaoyao/js-regex-mini-book" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  JS 正则迷你书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.alishenshen.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  单词天天斗
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-4698c43e></div> <aside class="sidebar" data-v-4698c43e><div class="personal-info-wrapper" data-v-6c8ffc9c><img src="/images/faceImage.png" alt="author-avatar" class="personal-img" data-v-6c8ffc9c> <h3 class="name" data-v-6c8ffc9c>
    私塾学者
  </h3> <div class="num" data-v-6c8ffc9c><div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>15</h3> <h6 data-v-6c8ffc9c>文章</h6></div> <div data-v-6c8ffc9c><h3 data-v-6c8ffc9c>19</h3> <h6 data-v-6c8ffc9c>标签</h6></div></div> <hr data-v-6c8ffc9c></div> <nav class="nav-links"><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/前端一万五/" class="nav-link"><i class="iconfont undefined"></i>
  前端一万五
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/加入前端/" class="nav-link"><i class="iconfont undefined"></i>
  加入前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/短篇博文/" class="nav-link"><i class="iconfont undefined"></i>
  短篇博文
</a></li><li class="dropdown-item"><!----> <a href="/categories/娱乐项目/" class="nav-link"><i class="iconfont undefined"></i>
  娱乐项目
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="https://github.com/arleyGuoLei" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://juejin.im/user/5ba9b5385188255c8e72807c" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-menu"></i>
      推荐
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://ustbhuangyi.github.io/vue-analysis/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  Vue.js 技术揭秘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://juejin.im/book/5bdc715fe51d454e755f75ef?referrer=5ba9b5385188255c8e72807c" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  前端面试之道
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/qdlaoyao/js-regex-mini-book" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  JS 正则迷你书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="http://www.alishenshen.cn" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  单词天天斗
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript数据类型</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#原始（primitive）类型" class="sidebar-link">原始（Primitive）类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#javascript-中的七大原始类型" class="sidebar-link">JavaScript 中的七大原始类型</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#boolean-类型" class="sidebar-link">boolean 类型</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#number-类型" class="sidebar-link">number 类型</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#string-类型" class="sidebar-link">string 类型</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#null" class="sidebar-link">null</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#undefined" class="sidebar-link">undefined</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#symbol-类型" class="sidebar-link">symbol 类型</a></li></ul></li><li><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#对象（object）类型" class="sidebar-link">对象（Object）类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#浅拷贝和深拷贝" class="sidebar-link">浅拷贝和深拷贝</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#其他引用类型" class="sidebar-link">其他引用类型</a></li></ul></li><li><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#类型转换" class="sidebar-link">类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#转换规则" class="sidebar-link">转换规则</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#和" class="sidebar-link">== 和 ===</a></li></ul></li><li><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#类型判断" class="sidebar-link">类型判断</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header"><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#tostring" class="sidebar-link">toString</a></li></ul></li><li><a href="/FE/%E5%85%B6%E4%BB%96/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%AF%87.html#最后" class="sidebar-link">最后</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-6cbeab0a data-v-4698c43e><h3 class="title" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a>JavaScript数据类型</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><input type="password" value="" data-v-6cbeab0a> <span data-v-6cbeab0a>Konck! Knock!</span> <button data-v-6cbeab0a>OK</button></label> <div class="footer" style="display:none;" data-v-6cbeab0a data-v-6cbeab0a><span data-v-6cbeab0a><i class="iconfont reco-theme" data-v-6cbeab0a></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-6cbeab0a>vuePress-theme-reco</a></span> <span data-v-6cbeab0a><i class="iconfont reco-copyright" data-v-6cbeab0a></i> <a data-v-6cbeab0a><span data-v-6cbeab0a>私塾学者</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-4698c43e><main class="page"><!----> <div class="page-title" style="display:none;"><h1>JavaScript数据类型</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>私塾学者</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-05-18</span></i> <!----> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      面试题
    </span><span class="tag-item" data-v-484a899e>
      knowledge
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><p>JavaScript 作为一门<strong>弱类型</strong>语言, 数据类型是每一门语言最基础的内容, 也是一个最容易忽视的面试<strong>高频</strong>考点</p> <p>比如下面几个常见问题：</p> <ul><li>JavaScript 包含哪些数据类型?</li> <li>说说 JavaScript 的类型转换过程?</li> <li>如何判断数据是什么类型?</li> <li>0.1 + 0.2 === 0.3 的结果为什么是 false?</li> <li>[] == ![] 的结果为什么是 true?</li> <li>如何判断空对象?</li> <li>JavaScript 如何进行进制转换?</li> <li>Symbol 的特点和实际应用场景？</li> <li>== 和 === 有什么区别?</li> <li>null 和 undefined 的区别?</li> <li>JavaScript 如何实现浅拷贝和深拷贝?</li> <li>...</li></ul> <p>如果你被上述问题虐了 ~ 你还不继续往下学习吗?</p> <h2 id="原始（primitive）类型"><a href="#原始（primitive）类型" class="header-anchor">#</a> 原始（Primitive）类型</h2> <p>JavaScript 中把类型分为了两大类：<strong>原始</strong>类型(值类型)和<strong>对象</strong>类型(引用类型)</p> <h3 id="javascript-中的七大原始类型"><a href="#javascript-中的七大原始类型" class="header-anchor">#</a> JavaScript 中的<strong>七</strong>大原始类型</h3> <ul><li>boolean: 包含 true | false</li> <li>number: 包含 整数 | 浮点数 | NaN(not a number) | ±Infinity(正负无穷)等</li> <li>string: 字符串文本序列, 通常由<code>&quot;&quot;</code>、<code>''</code>符号包裹</li> <li>null: 只有一个值 null</li> <li>undefined: 只有一个值 undefined</li> <li>symbol (ES6): 定义唯一的值</li> <li>BigInt (ES10): 一种数字类型的数据, 它可以表示任意精度格式的整数(不常用, 了解即可)</li></ul> <p>原始类型表示的都是值, 不能直接调用任何函数, 比如<code>null.toString()</code>将会报错, 但原始类型会在必要的情况下强转为对象类型</p> <h3 id="boolean-类型"><a href="#boolean-类型" class="header-anchor">#</a> boolean 类型</h3> <p>常见考点: <strong>布尔值的类型转换</strong></p> <p>在条件判断时, 除了<code>undefined</code>、<code>null</code>、<code>NaN</code>、<code>''</code>、<code>±0</code>、<code>0</code>、<code>false</code>之外, 所有的值都会转换为 true, 包含所有对象, 空数组和空对象也是 true</p> <table><thead><tr><th>数据类型</th> <th>转为 true 的值</th> <th>转为 false 的值</th></tr></thead> <tbody><tr><td>boolean</td> <td>true</td> <td>false</td></tr> <tr><td>number</td> <td>任何非零数字值（包括 ± 无穷）</td> <td>0、±0、NaN</td></tr> <tr><td>string</td> <td>任何非空字符串</td> <td>''(空字符串)</td></tr> <tr><td>null</td> <td>无</td> <td>null</td></tr> <tr><td>undefined</td> <td>无</td> <td>undefined</td></tr> <tr><td>symbol</td> <td>symbol</td> <td>无</td></tr></tbody></table> <p>常见的条件隐式转换形式： !(感叹号) 、 == 、 != 、 Boolean、 if()</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">!</span><span class="token number">0</span> <span class="token comment">// true</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span> <span class="token comment">// false</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token comment">// true</span>
<span class="token number">0</span> <span class="token operator">!=</span> <span class="token boolean">false</span> <span class="token comment">// false</span>
<span class="token function">Boolean</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="number-类型"><a href="#number-类型" class="header-anchor">#</a> number 类型</h3> <p>JavaScript 中的 number 是浮点类型的, 计算机中的数据都是使用二进制来表示的, 但不是所有的数字都可以用二进制表示出来, 所以在使用中会遇到某些 Bug, 比如 0.1 + 0.2 !== 0.3, 可能有点绕, 我们下面来看实际例子和如何避免这类 Bug</p> <p><strong>可跳过</strong>先复习一下以前学过的数学知识, 十进制小数转换成二进制小数的计算方法：<code>乘 2 取整, 顺序排列</code></p> <blockquote><p>十进制小数转换成二进制小数具体做法是：用 2 乘十进制小数, 可以得到积, 将积的整数部分取出, 再用 2 乘余下的小数部分, 又得到一个积, 再将积的整数部分取出, 如此进行, 直到积中的小数部分为零, 此时 0 或 1 为二进制的最后一位, 或者达到所要求的精度为止。然后把取出的整数部分按顺序排列起来, 先取的整数作为二进制小数的高位有效位, 后取的整数作为低位有效位。</p></blockquote> <p>比如 0.1 的二进制为：<code>0.0 0011 0011 ......</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">0.1</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.2</span> <span class="token comment">// 取出整数部分0</span>

<span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token comment">// 取出整数部分1</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token comment">// 取出整数部分1</span>

<span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token comment">// 取出整数部分1</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token comment">// 取出整数部分1</span>
<span class="token comment">// ... 进入循环</span>

所以<span class="token number">0.1</span>转化成二进制是：<span class="token number">0.0</span> <span class="token number">0011</span> <span class="token number">0011</span> <span class="token operator">...</span><span class="token operator">...</span>
</code></pre></div><p>比如 0.2 的二进制为：<code>0.0011 0011 0011 ......</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token comment">// 取出整数部分1</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token comment">// 取出整数部分1</span>

<span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token comment">// 取出整数部分0</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token comment">// 取出整数部分1</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token comment">// 取出整数部分1</span>

<span class="token comment">// ... 进入循环</span>

所以<span class="token number">0.2</span>转化成二进制是：<span class="token number">0.0011</span> <span class="token number">0011</span> <span class="token number">0011</span> <span class="token operator">...</span><span class="token operator">...</span>
</code></pre></div><h4 id="那如果二进制小数的形式是如上述循环的形式-那-javascript-是怎么对二进制小数进行存储的呢"><a href="#那如果二进制小数的形式是如上述循环的形式-那-javascript-是怎么对二进制小数进行存储的呢" class="header-anchor">#</a> 那如果二进制小数的形式是如上述循环的形式, 那 JavaScript 是怎么对二进制小数进行存储的呢?</h4> <p>答案是：采用 IEEE 754 标准双精度版本（64 位), 现代 CPU 的 FPU 都是基于 IEEE754, Java 也是基于该形式</p> <h4 id="ieee-754-标准"><a href="#ieee-754-标准" class="header-anchor">#</a> IEEE 754 标准</h4> <p>IEEE754 标准包含一组实数的二进制表示法, 它由三部分组成：<code>符号位</code>(标识正负, 一负零正)、<code>指数位</code>(科学计数法的指数)、<code>尾数位</code>(存储科学计数法后的有效数字)</p> <table><thead><tr><th>精度</th> <th>符号位<em>指数位</em>尾数位</th></tr></thead> <tbody><tr><td>单精度 (32 位)</td> <td>1_8_23</td></tr> <tr><td>双精度 (64 位)</td> <td>1_11_52</td></tr> <tr><td>长双精度 (80 位)</td> <td>1_15_64</td></tr></tbody></table> <p>下面以 0.1 为例来理解下什么是符号位、指数位、尾数位：</p> <p>0.1 的二进制为：<code>0.0 0011 0011 ......</code>, 为了节省存储空间, 在计算机中它是以科学计数法表示的, 也就是<code>1.1 0011 0011 0011... * 2^-4</code>, 所以小数转为二进制存储后, 发生了尾数截取(有效数字第 52 位以后的数字是不能存储的, 它遵循, 如果第 53 位是 1 就向前一位进 1, 如果是 0 就舍弃的原则。), 也就是精度损失, 计算完之后又转为十进制, 导致结果异常</p> <p>那我们再通过该标准来计算一下 JavaScript 中能表示的最大数字</p> <p>指数位(11 位)能表示的最大数字：1023(十进制), 尾数位能表达的最大数字即尾数位都是 1 的情况, 最终为<code>1.111... * 2^1023</code>, 也就是<code>Number.MAX_VALUE</code></p> <p>JavaScript 中还有一个<code>Number.MAX_SAFE_INTEGER</code>表示最大安全整数, 为<code>(2^53 - 1)</code>, 即在这个数范围内的整数不会出现精度丢失, 如果需要比这个大的整数, 需要使用 BigInt 类型</p> <h4 id="进制转换"><a href="#进制转换" class="header-anchor">#</a> 进制转换</h4> <ul><li>其他进制转十进制, 使用<code>parseInt</code>方法</li> <li>十进制转其他进制, 使用<code>toString</code>方法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">// 八进制转十进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// 十六进制转十进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">// 十进制转八进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// 十进制转十六进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">// 二进制转八进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// 二进制转十六进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 八进制转二进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token comment">// 八进制转十六进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 十六进制转二进制</span>
<span class="token function">parseInt</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token comment">// 十六进制转八进制</span>
</code></pre></div><h3 id="string-类型"><a href="#string-类型" class="header-anchor">#</a> string 类型</h3> <p>JavaScript 中的字符串是<strong>不可变</strong>的, 也就是说字符串中的方法, 不会改变原有字符串的内容, 而是返回一个新字符串</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'join-fe'</span><span class="token punctuation">;</span>
str<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'x'</span>
str<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
str<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 'join-fe'</span>
</code></pre></div><p>字符串在面试的时候常考点在算法题中, 刷 LeetCode 是有必要的~(校招/实习面试经常出现原题), 需要掌握常见 String 的方法</p> <h3 id="null"><a href="#null" class="header-anchor">#</a> null</h3> <p><strong>null 是一个空指针, 除非定义为 null, 否则不会出现 null 值</strong></p> <p>对于 null 来说, 很多人会认为他是个对象类型, 其实这是错误的。虽然 typeof null 会输出 object，但是这只是 JS 存在的一个悠久 Bug。在 JS 的最初版本中使用的是 32 位系统，为了性能考虑使用低位存储变量的类型信息，000 开头代表是对象，然而 null 表示为全零，所以将它错误的判断为 object 。虽然现在的内部类型判断代码已经改变了，但是对于这个 Bug 却是一直流传下来</p> <table><thead><tr><th>类型</th> <th>整数表示</th> <th>typeof</th></tr></thead> <tbody><tr><td>对象</td> <td>000</td> <td>object</td></tr> <tr><td>null</td> <td>000</td> <td>object</td></tr> <tr><td>string</td> <td>100</td> <td>string</td></tr> <tr><td>boolean</td> <td>110</td> <td>boolean</td></tr></tbody></table> <h3 id="undefined"><a href="#undefined" class="header-anchor">#</a> undefined</h3> <p><strong>undefined 是声明了确未定义具体值</strong></p> <p><code>void &lt;expression&gt;</code>计算表达式结果都返回为 undefined</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">void</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token comment">// =&gt; undefined</span>
<span class="token keyword">void</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// =&gt; undefined</span>
<span class="token keyword">void</span> <span class="token punctuation">{</span>name<span class="token operator">:</span> <span class="token string">'John Smith'</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; undefined</span>
<span class="token keyword">void</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// =&gt; undefined</span>
</code></pre></div><h3 id="symbol-类型"><a href="#symbol-类型" class="header-anchor">#</a> symbol 类型</h3> <p>Symbol 类型是<code>ES6</code>中新加入的一种原始类型, 该类型的性质在于这个类型的值可以用来创建匿名、私有的对象属性</p> <blockquote><p>注意是使用 Symbol()函数创建 symbol 变量，并非使用构造函数，使用 new 操作符会直接报错</p></blockquote> <h4 id="symbol-的特性"><a href="#symbol-的特性" class="header-anchor">#</a> Symbol 的特性</h4> <ol><li><strong>独一无二</strong></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> sym1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 可以不传入值, 传值的目的是做一个标识</span>
<span class="token keyword">var</span> sym2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'join-fe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sym3 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'join-fe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym2 <span class="token operator">===</span> sym3<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
</code></pre></div><p>我们用两个相同的字符串创建两个 Symbol 变量 sym2 和 sym3，但它们是不相等的，可见每个 Symbol 变量都是独一无二的。</p> <p>如果我们想创造两个相等的 Symbol 变量, 可以使用<code>Symbol.for(key)</code>, 该方法会使用给定的 key 搜索现有的 symbol, 如果找到则返回该 symbol。否则将使用给定的 key 在全局 symbol 注册表(可被搜索)中创建一个新的 symbol</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> sym1 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'join-fe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> sym2 <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'join-fe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sym1 <span class="token operator">===</span> sym2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><ol start="2"><li><strong>不可枚举</strong></li></ol> <p>当使用 Symbol 作为对象属性时, 可以保证对象不会出现重名属性。</p> <ul><li>调用<code>for...in</code>或<code>Object.keys()</code>不能遍历到 Symbol 属性, 也不能遍历到不可枚举属性</li> <li>调用<code>Object.getOwnPropertyNames()</code>不能获取到 Symbol 属性, 可以获取到不可枚举属性</li> <li>调用<code>Object.getOwnPropertySymbols()</code>可以获取所有的 Symbol 属性</li> <li>调用<code>Reflect.ownKeys()</code>可以获取到所有属性, 包含 Symbol 属性和不可枚举属性</li></ul> <p><strong>小考点</strong>一般可以通过<code>Object.keys()</code>将对象的 key 转为数组, 通过判断数组长度来判断是否为空对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'join-fe'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'wxchat'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">'微信公众号'</span>
<span class="token punctuation">}</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;name&quot;]</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;name&quot;]</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// [Symbol(wxchat)]</span>
Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;name&quot;, Symbol(wxchat)]</span>
</code></pre></div><h4 id="symbol-的应用场景"><a href="#symbol-的应用场景" class="header-anchor">#</a> Symbol 的应用场景</h4> <ol><li><strong>私有属性</strong></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">People</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> idCard<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token comment">// 通过Symbol()定义私有属性</span>
  <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'_age'</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> age

  <span class="token comment">// 可通过Object.defineProperty()设置enumerable为false声明不可枚举属性</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'_idCard'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token comment">// 约定俗称: 一般使用&quot;_&quot;表示私有</span>
    value<span class="token operator">:</span> idCard<span class="token punctuation">,</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    writable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name <span class="token comment">// 非私有</span>

<span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token string">'arley'</span><span class="token punctuation">,</span> <span class="token number">666</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>name <span class="token comment">// arley</span>
p1<span class="token punctuation">.</span>_age <span class="token comment">// undefined</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// name</span>
<span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;name&quot;]</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span> <span class="token comment">// [Symbol(_age)]</span>
p1<span class="token punctuation">[</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">// 18</span>

Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;_idCard&quot;, &quot;name&quot;]</span>
Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [&quot;_idCard&quot;, &quot;name&quot;, Symbol(_age)]</span>
</code></pre></div><ol start="2"><li><strong>避免属性污染</strong>, 防止已有属性被替换</li></ol> <p>在某些情况下，我们可能要为对象添加一个属性，此时就有可能造成属性覆盖，用 Symbol 作为对象属性可以保证永远不会出现同名属性</p> <p>例如下面的场景，我们模拟实现一个 call 方法：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Error'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  context <span class="token operator">=</span> context <span class="token operator">||</span> window
  <span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'fn'</span><span class="token punctuation">)</span> <span class="token comment">// 防止覆盖对象中之前可能就有的fn属性</span>
  context<span class="token punctuation">[</span>fn<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">[</span>fn<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>fn<span class="token punctuation">]</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div><h2 id="对象（object）类型"><a href="#对象（object）类型" class="header-anchor">#</a> 对象（Object）类型</h2> <p>在 JavaScript 中, 除了原始类型那么其他的都是对象类型了。对象类型和原始类型不同的是, 原始类型存储的是值, 对象类型存储的是地址（指针/引用）。当你创建了一个对象类型的时候, 计算机会在内存中帮我们开辟一个空间来存放值(存储在堆内存中), 然后使用一个地址(存放在栈内存中)来指向该空间。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'arley'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">100</span>
  person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'join-fe'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span> <span class="token number">23</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> person
<span class="token punctuation">}</span>

<span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span>

p1 <span class="token comment">// =&gt; { name: &quot;arley&quot;, age: 100 }</span>
p2 <span class="token comment">// =&gt; { name: &quot;join-fe&quot;, age: 23 }</span>
</code></pre></div><p>对于对象常量<code>p1</code>, 假设内存地址为<code>#FFFF00</code>, 那么在堆内存地址<code>#FFFF00</code>的位置存放了对象的值, 然后在栈内存中存储了 p1 变量名和<code>#FFFF00</code>。当读取<code>p1</code>的时候，先到栈内存中找到该变量, 取出地址, 然后通过该地址到堆内存中读取出具体值。那上述代码中 p1 和 p2 为什么会是这样的结果呢? 我们分步骤解析</p> <ul><li>首先, 调用<code>foo(p1)</code>传参<code>p1</code>, 对于对象类型, 传参传递的实际是该对象的地址<code>#1</code>, 所以 person 也指向了 p1 的内存地址<code>#1</code></li> <li>当执行<code>person.age = 100</code>的时候, 相当于直接修改 person 地址<code>#1</code>所对应值的 age 属性为 100, 此时 p1 对象的 age 也就跟着变成了 100</li> <li>当我们重新为<code>person</code>赋值为一个对象时, person 实际上又指向了一个新的地址<code>#2</code>, 和之前的 p1 就没有任何关系了</li> <li>当<code>p2</code>接受到函数的返回值, p2 此时也就指向了 person 的新地址<code>#2</code></li></ul> <h3 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="header-anchor">#</a> 浅拷贝和深拷贝</h3> <p>对于上述不小心修改了原对象属性值问题, 需要通过<strong>值拷贝</strong>的方式解决, 简单的说就是：在内存中存在两个数据结构完全相同又相互独立的数据, 将对象的值进行复制, 而不是只复制其引用关系</p> <p>浅拷贝和深拷贝的区别是：浅拷贝只解决了对象第一层的问题, 如果接下去的值中还有对象的话，那么该值又是一个地址引用, 要解决深层对象拷贝的问题，我们就得使用深拷贝了</p> <h4 id="浅拷贝"><a href="#浅拷贝" class="header-anchor">#</a> 浅拷贝</h4> <p>JavaScript 通常使用<code>Object.assign</code>和<code>展开运算符</code>实现浅拷贝功能</p> <ol><li><strong>Object.assign</strong></li></ol> <blockquote><p>Object.assign() 方法用于将所有可枚举属性的值从一个或多个源对象复制到目标对象, 它将返回目标对象。 - MDN</p></blockquote> <p>语法: <code>Object.assign(target, ...sources)</code>, target 为目标对象, sources 为源对象, 返回值为目标对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">{</span> b<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: 4, c: 5 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: 4, c: 5 }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span> <span class="token comment">// { b: 4, c: 5 }</span>
</code></pre></div><p>通常浅拷贝一个对象如下这么写：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'arley'</span><span class="token punctuation">,</span>
  age<span class="token operator">:</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> p2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> p1<span class="token punctuation">)</span>
p1<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'join-fe'</span>

p2<span class="token punctuation">.</span>name <span class="token comment">// =&gt; arley</span>
</code></pre></div><p>当<code>Object.assign</code>遇到数组拷贝, 会发生什么呢?</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 一维数组: √</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span>
a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// [0, 1]</span>

<span class="token comment">// 二维数组: ×</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> b1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span>
b1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// [ [ 99 ], [ 1 ] ]</span>

<span class="token comment">// 对象数组: ×</span>
<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> c1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span>
c1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token number">99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">// [ { id: 99 } ]</span>

</code></pre></div><ol start="2"><li>ES6<strong>展开运算符</strong></li></ol> <ul><li>对象展开运算符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>a <span class="token punctuation">}</span>
a<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>age<span class="token punctuation">)</span> <span class="token comment">// 1</span>
</code></pre></div><ul><li>数组展开运算符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>a<span class="token punctuation">]</span>
a1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">99</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// [0, 1]</span>
</code></pre></div><ol start="3"><li><strong>其他 API</strong></li></ol> <ul><li><code>Array.prototype.slice()</code></li> <li><code>Array.prototype.concat()</code></li></ul> <h4 id="深拷贝"><a href="#深拷贝" class="header-anchor">#</a> 深拷贝</h4> <ol><li>最简单的方式可以使用<code>JSON.parse(JSON.stringify(object))</code>来解决</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'join-fe'</span><span class="token punctuation">,</span>
  job<span class="token operator">:</span> <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'FE'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>job<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'native'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>job<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token comment">// FE</span>
</code></pre></div><p>但是该方法也是有局限性的：</p> <ul><li>会忽略<code>undefined</code></li> <li>会忽略<code>symbol</code></li> <li>不能序列化函数, 直接忽略</li> <li>不能解决循环引用的对象, 比如<code>const o = { }; o.o1 = o</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  age<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token comment">// 忽略</span>
  sex<span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'man'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 忽略</span>
  <span class="token function-variable function">study</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 忽略</span>
  name<span class="token operator">:</span> <span class="token string">'join-fe'</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment">// {name: &quot;join-fe&quot;}</span>
</code></pre></div><ol start="2"><li>手写深拷贝函数</li></ol> <p>面试的时候, 对于深拷贝还可能出现需要手写实现, 原理都通过<strong>递归</strong> + <strong>浅拷贝</strong>实现的, 我们一起来实现一个简易版</p> <div class="language-js extra-class"><pre class="language-js"><code>
<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">function</span> <span class="token function">isObject</span><span class="token punctuation">(</span><span class="token parameter">o</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> o <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> o <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> o <span class="token operator">!==</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'非对象'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">let</span> isArray <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
  <span class="token keyword">let</span> newObj <span class="token operator">=</span> isArray <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token operator">...</span>obj<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span>obj <span class="token punctuation">}</span> <span class="token comment">// 浅拷贝</span>
  Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>newObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">key</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    newObj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">isObject</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// 递归</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> newObj
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token punctuation">{</span>
    c<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    d<span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> newObj <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
newObj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="其他引用类型"><a href="#其他引用类型" class="header-anchor">#</a> 其他引用类型</h3> <h4 id="包装类型"><a href="#包装类型" class="header-anchor">#</a> 包装类型</h4> <p>为了便于操作基本类型值, <code>ECMAScript</code>还提供了几个特殊的引用类型，他们是基本类型的包装类型：</p> <ul><li>Boolean</li> <li>Number</li> <li>String</li></ul> <p>注意包装类型和原始类型的区别：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token boolean">true</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">Boolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token number">123</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token string">'join-fe'</span> <span class="token operator">===</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'join-fe'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre></div><h4 id="装箱和拆箱"><a href="#装箱和拆箱" class="header-anchor">#</a> 装箱和拆箱</h4> <ul><li>装箱转换：把原始类型转换为对应的包装类型</li> <li>拆箱操作：把引用类型转换为原始类型</li></ul> <p>在原始类型中我们提到：原始类型表示的都是值, 不能直接调用任何函数。类似<code>&quot;join-fe&quot;.substring(4)</code>的方法之所以可以调用, 是因为每当我们操作一个基础类型时，后台就会自动创建一个包装类型的对象，从而让我们能够调用一些方法和属性。</p> <p>实际上发生了以下几个过程：</p> <ul><li>创建一个 String 的包装类型实例</li> <li>在实例上调用 substring 方法</li> <li>销毁实例</li></ul> <p>也就是说，我们使用原始类型调用方法，就会自动进行装箱和拆箱操作</p> <p>从对象类型到原始类型, 也就是拆箱的过程中, 会遵循 ECMAScript 规范规定的<code>toPrimitive</code>原则，一般会调用对象类型的<code>valueOf</code>和<code>toString</code>方法，一般转换成不同类型的原始类型遵循的原则不同，例如：</p> <ul><li>对象类型转换为 Number 类型，先调用 valueOf，如果转换为基础类型，就返回转换的值，如果转换失败, 再调用 toString, 如果还未转换为基础类型就报错</li> <li>对象类型转换为 String 类型，先调用 toString，如果转换为基础类型，就返回转换的值，如果转换失败, 再调用 valueOf, 如果还未转换为基础类型就报错</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">valueOf</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'valueOf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">toString</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token string">'hello'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// valueOf  0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>obj<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, fe</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// toString  hello, fe</span>
</code></pre></div><p>你也可以直接重写<code>Symbol.toPrimitive</code>方法, 该方法在转原始类型时调用优先级最高。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> obj  <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token number">1</span> <span class="token operator">+</span> obj <span class="token comment">// =&gt; 3</span>
</code></pre></div><h2 id="类型转换"><a href="#类型转换" class="header-anchor">#</a> 类型转换</h2> <h3 id="转换规则"><a href="#转换规则" class="header-anchor">#</a> 转换规则</h3> <h4 id="常见转换表格"><a href="#常见转换表格" class="header-anchor">#</a> 常见转换表格</h4> <table><thead><tr><th>原始值</th> <th>转换目标</th> <th>结果</th></tr></thead> <tbody><tr><td>number</td> <td>Boolean</td> <td>除了<code>NaN</code>、<code>±0</code>、<code>0</code>之外, 都为 true</td></tr> <tr><td>string</td> <td>Boolean</td> <td>除了<code>''</code>(空串), 都为 true</td></tr> <tr><td>undefined</td> <td>Boolean</td> <td>false</td></tr> <tr><td>null</td> <td>Boolean</td> <td>false</td></tr> <tr><td>对象类型</td> <td>Boolean</td> <td>true(包含<code>[]</code>、<code>{}</code>)</td></tr> <tr><td>number</td> <td>String</td> <td>6 =&gt; '6', NaN =&gt; 'NaN'</td></tr> <tr><td>boolean</td> <td>String</td> <td>true =&gt; 'true', false =&gt; 'false'</td></tr> <tr><td>array</td> <td>String</td> <td>[1, 2] =&gt; '1, 2'</td></tr> <tr><td>对象</td> <td>String</td> <td>'[object Object]'</td></tr> <tr><td>String</td> <td>Number</td> <td>'6' =&gt; 6, 'a' =&gt; NaN</td></tr> <tr><td>array</td> <td>Number</td> <td>[] =&gt; 0, [1] =&gt; 1, [1,2,'a'] =&gt; NaN</td></tr> <tr><td>null</td> <td>Number</td> <td>0</td></tr></tbody></table> <h4 id="四则运算符"><a href="#四则运算符" class="header-anchor">#</a> 四则运算符</h4> <p>加法运算符不同于其他几个运算符，它有以下几个特点：</p> <ul><li>1.当一侧为 String 类型，被识别为字符串拼接，并会优先将另一侧转换为字符串类型</li> <li>2.当一侧为 Number 类型，另一侧为原始类型，则将原始类型转换为 Number 类型</li> <li>3.当一侧为 Number 类型，另一侧为引用类型，将引用类型和 Number 类型转换成字符串后拼接</li> <li>4.当两侧都是引用类型, 将一侧优先转换为 String 类型, 然后再执行规则 1</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'1'</span> <span class="token comment">// '11' [ 规则1 ]</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token keyword">null</span> <span class="token comment">// 1 [ 规则2 ]</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 2 [ 规则2 ]</span>

<span class="token number">1</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// '1[object Object]' [ 规则3 ]</span>
<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 1 结果之所以为1, 是因为如果把 {} 写在开头, JS会把{}认为是一个作用域声明, 直接执行</span>
<span class="token keyword">const</span> n <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// '[object Object]1' [ 规则3 ]</span>

<span class="token boolean">true</span> <span class="token operator">+</span> <span class="token boolean">true</span> <span class="token comment">// 2 [ 规则2 ] =&gt; 1 + true</span>
<span class="token number">4</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token comment">// &quot;41,2,3&quot; [ 规则3 ]</span>

<span class="token string">''</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// '[object Object]' [ 规则1 ]</span>
<span class="token string">''</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// '' [ 规则1 ]</span>

<span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0, 原因同 {} + 1</span>
<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// '[object Object]'</span>

<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// ''</span>
</code></pre></div><p>那么对于除了加法的运算符来说，只要其中一方是数字，那么另一方就会被转为数字</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">4</span> <span class="token operator">*</span> <span class="token string">'3'</span> <span class="token comment">// 12</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 0</span>
<span class="token number">4</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment">// NaN</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token boolean">true</span> <span class="token comment">// 0</span>
<span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">null</span> <span class="token comment">//  1</span>
<span class="token number">1</span> <span class="token operator">*</span> <span class="token keyword">undefined</span> <span class="token comment">//  NaN</span>
<span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">[</span><span class="token string">'5'</span><span class="token punctuation">]</span> <span class="token comment">//  10</span>
</code></pre></div><h4 id="比较运算符"><a href="#比较运算符" class="header-anchor">#</a> 比较运算符</h4> <ul><li>如果是对象，就通过 toPrimitive 规则来转换对象(详细复习文章上方的装箱和拆箱)</li> <li>如果是字符串，就通过 unicode 字符索引来比较</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// - 对象类型转换为 Number 类型，先调用 valueOf，如果转换为基础类型，就返回转换的值</span>
<span class="token comment">// 如果转换失败, 再调用toString</span>
<span class="token comment">// 如果还未转换为基础类型就报错</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'valueOf'</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'1'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
a <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="和"><a href="#和" class="header-anchor">#</a> == 和 ===</h3> <p><code>===</code>对比为<code>true</code>的前提是类型和数据一致, 而<code>==</code>两侧, 如果类型一致, 则和<code>===</code>一样, 否则需要进行类型隐式转换</p> <h4 id="假如我们需要对比-x-和-y-是否相同，就会进行如下判断流程"><a href="#假如我们需要对比-x-和-y-是否相同，就会进行如下判断流程" class="header-anchor">#</a> 假如我们需要对比 x 和 y 是否相同，就会进行如下判断流程</h4> <ul><li><ol><li>首先会判断两者类型是否相同。相同的话就是比大小了</li></ol></li> <li><ol start="2"><li>类型不相同的话，那么就会进行类型转换</li></ol></li> <li><ol start="3"><li>会先判断是否在对比 null 和 undefined，是的话就会返回 true</li></ol></li> <li><ol start="4"><li>判断两者类型是否为 string 和 number，是的话就会将字符串转换为 number</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1</span> <span class="token operator">==</span> <span class="token string">'1'</span>
      ↓
<span class="token number">1</span> <span class="token operator">==</span>  <span class="token number">1</span>
</code></pre></div><ul><li><ol start="5"><li>判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'1'</span> <span class="token operator">==</span> <span class="token boolean">true</span>
        ↓
<span class="token string">'1'</span> <span class="token operator">==</span>  <span class="token number">1</span>
        ↓
 <span class="token number">1</span>  <span class="token operator">==</span>  <span class="token number">1</span>
</code></pre></div><ul><li><ol start="6"><li>判断其中一方是否为 object 且另一方为 string、number 或者 symbol，是的话就会把 object 转为原始类型再进行判断</li></ol></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">'1'</span> <span class="token operator">==</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'join-fe'</span> <span class="token punctuation">}</span>
        ↓
<span class="token string">'1'</span> <span class="token operator">==</span> <span class="token string">'[object Object]'</span>
</code></pre></div><p><strong>总结流程图</strong> - 前端面试之道</p> <p><img src="http://img.i7xy.cn/20200518200240.png" alt=""></p> <p>说了这么多, 知道做比较的时候, 尽量使用<code>===</code>才是最重要的</p> <p>至此, 思考一下: <code>![] == []</code></p> <ul><li><code>!</code>优先级高于==, 所以先把 <code>![]</code>转换成了 false</li> <li>fase == [], boolean == any =&gt; boolean 转 number</li> <li>0 == [], object == number =&gt; object 转基本类型</li> <li>0 == 0</li></ul> <h2 id="类型判断"><a href="#类型判断" class="header-anchor">#</a> 类型判断</h2> <h3 id="typeof"><a href="#typeof" class="header-anchor">#</a> typeof</h3> <h4 id="适用场景"><a href="#适用场景" class="header-anchor">#</a> 适用场景</h4> <ul><li>判断除了<code>null</code>之外的原始类型：<code>number</code>、<code>string</code>、<code>boolean</code>、<code>undefined</code>、<code>symbol</code></li> <li>判断是否为函数: <code>function</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token string">'join-fe'</span>  <span class="token comment">// string</span>
<span class="token keyword">typeof</span> <span class="token number">666</span>  <span class="token comment">// number</span>
<span class="token keyword">typeof</span> <span class="token boolean">true</span>  <span class="token comment">// boolean</span>
<span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// symbol</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span>  <span class="token comment">// undefined</span>
<span class="token keyword">typeof</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token comment">// function</span>
</code></pre></div><p>除函数外所有的对象类型都会被判定为 object, 所以不适用于对象的具体类型判断</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// 'object'</span>
<span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 'object'</span>
</code></pre></div><h3 id="instanceof"><a href="#instanceof" class="header-anchor">#</a> instanceof</h3> <p><code>instanceof</code>操作符可以帮助我们判断对象类型具体是什么类型的对象, 原理是通过<code>原型链</code>实现的</p> <h4 id="适用场景-2"><a href="#适用场景-2" class="header-anchor">#</a> 适用场景</h4> <ul><li>判断对象具体是什么类型的对象, 不支持判断原始类型</li> <li>在函数内部判断该函数是否由<code>new</code>的方式调用</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">Date</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">RegExp</span> <span class="token comment">// true</span>
<span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'hello world'</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span> <span class="token comment">// true</span>

<span class="token string">'hello world'</span> <span class="token keyword">instanceof</span> <span class="token class-name">String</span> <span class="token comment">// false</span>

<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 如果通过 new Foo() 调用, 则条件成立</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="实现原理"><a href="#实现原理" class="header-anchor">#</a> 实现原理</h4> <ul><li>首先获取类型的原型: <code>right.prototype</code></li> <li>然后获得对象的原型: <code>left.__proto__</code></li> <li>然后一直循环判断对象的原型是否等于类型的原型, 直到对象原型为 null (因为原型链最终为 null)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> prototype <span class="token operator">=</span> right<span class="token punctuation">.</span>prototype
  left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> left <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prototype <span class="token operator">===</span> left<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    left <span class="token operator">=</span> left<span class="token punctuation">.</span>__proto__
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>将在后序章节介绍原型链</p> <h3 id="tostring"><a href="#tostring" class="header-anchor">#</a> toString</h3> <p>通过<code>toString</code>方法可以把对象类型转换为原始类型(拆箱操作), 但由于部分对象, 比如<code>Array</code>、<code>Date</code>、<code>RegExp</code>对象都重写了原型链上的<code>toString</code>方法, 所以使用该方法的时候需要使用<code>Object.prototype.toString.call()</code>进行调用</p> <h4 id="适用场景-3"><a href="#适用场景-3" class="header-anchor">#</a> 适用场景</h4> <ul><li>获取一个对象具体的构造类型(副类型)</li> <li>判断原始类型的具体类型</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">isType</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">[object </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>type<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">]</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// ↓皆为true</span>

<span class="token function">isType</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string">'Boolean'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">'Boolean'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">,</span> <span class="token string">'Number'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">'Null'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">'Undefined'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Symbol'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'Object'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'Array'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'Function'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Error'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'String'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'String'</span><span class="token punctuation">)</span>
<span class="token function">isType</span><span class="token punctuation">(</span><span class="token regex">/^/</span><span class="token punctuation">,</span> <span class="token string">'RegExp'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="最后"><a href="#最后" class="header-anchor">#</a> 最后</h2> <p>文中如有错误, 欢迎在评论区指正, 如果这篇文章帮助到了你, 欢迎点赞和关注。</p> <p>推荐关注我的微信公众号<code>join-fe</code>，不定时推送高质量文章，我们一起交流成长。</p> <p><img src="http://img.i7xy.cn/20200518214056.png" alt="微信公众号-扫码关注"></p></div> <footer class="page-edit" style="display:none;"><!----> <!----></footer> <!----> <!----></main> <!----> <div class="comments-wrapper" data-v-4698c43e><!----></div></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-a81d141e data-v-a81d141e><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-a81d141e><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-a81d141e></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-a81d141e></path></svg></div></div></div>
    <script src="/assets/js/app.0e87d91a.js" defer></script><script src="/assets/js/3.a665c686.js" defer></script><script src="/assets/js/1.3b6e2c97.js" defer></script><script src="/assets/js/12.a415a1a4.js" defer></script>
  </body>
</html>
